{"version":3,"sources":["webpack://@the-turk/flarum-mathren/webpack/bootstrap","webpack://@the-turk/flarum-mathren/./admin.js","webpack://@the-turk/flarum-mathren/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@the-turk/flarum-mathren/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@the-turk/flarum-mathren/./src/admin/components/MathRenSettingsPage.js","webpack://@the-turk/flarum-mathren/./src/admin/index.js","webpack://@the-turk/flarum-mathren/external \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@the-turk/flarum-mathren/external \"flarum.core.compat['common/app']\"","webpack://@the-turk/flarum-mathren/external \"flarum.core.compat['common/components/Alert']\"","webpack://@the-turk/flarum-mathren/external \"flarum.core.compat['common/components/Button']\"","webpack://@the-turk/flarum-mathren/external \"flarum.core.compat['common/components/Select']\"","webpack://@the-turk/flarum-mathren/external \"flarum.core.compat['common/components/Switch']\"","webpack://@the-turk/flarum-mathren/external \"flarum.core.compat['common/utils/Stream']\"","webpack://@the-turk/flarum-mathren/external \"flarum.core.compat['common/utils/saveSettings']\""],"names":["_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","setPrototypeOf","_setPrototypeOf","o","p","__proto__","bbcode_regex","comma_regex","hex_regex","float_regex","int_regex","settingsPrefix","localePrefix","MathRenSettingsPage","oninit","vnode","settings","loading","outputModeOptions","html","mathml","htmlAndMathml","validaton_rules","blockDelimiters","inlineDelimiters","decisiveKeywords","ignoredTags","ignoredClasses","minRuleThickness","maxSize","errorColor","maxExpand","content","m","className","onsubmit","bind","app","translator","trans","bidi","setting","placeholder","Select","component","options","onchange","value","Switch","state","disabled","Alert","type","dismissible","a","Button","changed","key","fallback","Stream","data","dirty","keys","forEach","length","e","preventDefault","alerts","dismiss","alertMessage","validate","redraw","saveSettings","then","show","rules","valid","every","field","test","field_key","ExtensionPage","initializers","add","extensionData","registerPage"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","export * from './src/admin';","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import app from 'flarum/common/app';\nimport Alert from 'flarum/common/components/Alert';\nimport Button from 'flarum/common/components/Button';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport saveSettings from 'flarum/common/utils/saveSettings';\nimport Select from 'flarum/common/components/Select';\nimport Stream from 'flarum/common/utils/Stream';\nimport Switch from 'flarum/common/components/Switch';\n\n/* Regex constants those will be used to validate some fields */\n// bbcode delimiters\nconst bbcode_regex = /^\\[([a-zA-Z_-]+)\\]%e%\\[\\/\\1\\](?:,\\s*\\[([a-zA-Z_-]+)\\]%e%\\[\\/\\2\\])*$/;\n// comma seperated lists, except the bbcode delimiters\nconst comma_regex = /^[a-zA-Z_-]+(?:,\\s*[a-zA-Z_-]+)*$/;\n// hexadecimal colors\nconst hex_regex = /^#[0-9a-f]{3}([0-9a-f]{3})?$/i;\n// floating point numbers\nconst float_regex = /^[0-9]*[.]?[0-9]+$/;\n// zero or positive integer values\nconst int_regex = /^\\+?(0|[1-9]\\d*)$/;\n\n/* Other constants those will be used through this page */\nconst settingsPrefix = 'the-turk-mathren.';\nconst localePrefix = 'the-turk-mathren.admin.settings.';\n\nexport default class MathRenSettingsPage extends ExtensionPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.settings = {};\n    this.loading = false;\n\n    // select options for the output mode\n    this.outputModeOptions = {\n      html: 'HTML',\n      mathml: 'MathML',\n      htmlAndMathml: 'HTML & MathML',\n    };\n\n    this.validaton_rules = {\n      blockDelimiters: bbcode_regex,\n      inlineDelimiters: bbcode_regex,\n      decisiveKeywords: comma_regex,\n      ignoredTags: comma_regex,\n      ignoredClasses: comma_regex,\n      minRuleThickness: float_regex,\n      maxSize: float_regex,\n      errorColor: hex_regex,\n      maxExpand: int_regex,\n    };\n  }\n\n  /**\n   * Show the actual settings page\n   *\n   * @returns {*}\n   */\n  content() {\n    return [\n      m(\n        'div',\n        {\n          className: 'MathRenPage',\n        },\n        [\n          m(\n            'div',\n            {\n              className: 'container',\n            },\n            [\n              m(\n                'form',\n                {\n                  onsubmit: this.onsubmit.bind(this),\n                },\n                [\n                  m('h3', app.translator.trans(localePrefix + 'katexOptionsHeading')),\n                  m('hr'),\n                  m('.Form-group', [\n                    m('label', app.translator.trans(localePrefix + 'delimiters')),\n                    m('.helpText', app.translator.trans(localePrefix + 'delimitersHelp')),\n                  ]),\n                  m('.Form-group', [\n                    m(\n                      'div',\n                      {\n                        className: 'helpText',\n                      },\n                      m('i', {\n                        className: 'fas fa-exclamation-circle',\n                      }),\n                      m('span', app.translator.trans(localePrefix + 'regexInfo'))\n                    ),\n                  ]),\n                  m('.Form-group .flex-container', [\n                    m(\n                      'div',\n                      {\n                        className: 'inline--label',\n                      },\n                      m('.helpText', app.translator.trans(localePrefix + 'blockDelimiters'))\n                    ),\n                    m(\n                      'div',\n                      {\n                        className: 'inline--input',\n                      },\n                      m('input[type=text].FormControl', {\n                        bidi: this.setting(settingsPrefix + 'blockDelimiters', '[math]%e%[/math]'),\n                        placeholder: '[math]%e%[/math]',\n                      })\n                    ),\n                  ]),\n                  m('.Form-group .flex-container', [\n                    m(\n                      'div',\n                      {\n                        className: 'inline--label',\n                      },\n                      m('.helpText', app.translator.trans(localePrefix + 'inlineDelimiters'))\n                    ),\n                    m(\n                      'div',\n                      {\n                        className: 'inline--input',\n                      },\n                      m('input[type=text].FormControl', {\n                        bidi: this.setting(settingsPrefix + 'inlineDelimiters', '[imath]%e%[/imath]'),\n                        placeholder: '[imath]%e%[/imath]',\n                      })\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m(\n                      'div',\n                      {\n                        className: 'helpText',\n                      },\n                      m('i', {\n                        className: 'fas fa-info-circle',\n                      }),\n                      m('span', app.translator.trans(localePrefix + 'mainDelimitersInfo'))\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m('label', app.translator.trans(localePrefix + 'ignoringExpressions')),\n                    m('.helpText', app.translator.trans(localePrefix + 'ignoringExpressionsHelp')),\n                  ]),\n                  m('.Form-group', [\n                    m(\n                      'div',\n                      {\n                        className: 'helpText',\n                      },\n                      m('i', {\n                        className: 'fas fa-exclamation-circle',\n                      }),\n                      m('span', app.translator.trans(localePrefix + 'regexInfo'))\n                    ),\n                  ]),\n                  m('.Form-group .flex-container', [\n                    m(\n                      'div',\n                      {\n                        className: 'inline--label',\n                      },\n                      m('.helpText', app.translator.trans(localePrefix + 'decisiveKeywords'))\n                    ),\n                    m(\n                      'div',\n                      {\n                        className: 'inline--input',\n                      },\n                      m('input[type=text].FormControl', {\n                        bidi: this.setting(settingsPrefix + 'decisiveKeywords', 'ignore'),\n                        placeholder: 'ignore',\n                      })\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m(\n                      'div',\n                      {\n                        className: 'helpText',\n                      },\n                      m('i', {\n                        className: 'fas fa-question-circle',\n                      }),\n                      m('span', app.translator.trans(localePrefix + 'decisiveKeywordsHelp'))\n                    ),\n                  ]),\n                  m('.Form-group .flex-container', [\n                    m(\n                      'div',\n                      {\n                        className: 'inline--label',\n                      },\n                      m('.helpText', app.translator.trans(localePrefix + 'ignoredTags'))\n                    ),\n                    m(\n                      'div',\n                      {\n                        className: 'inline--input',\n                      },\n                      m('input[type=text].FormControl', {\n                        bidi: this.setting(settingsPrefix + 'ignoredTags', ''),\n                        placeholder: 'script,noscript,style,textarea,pre,code',\n                      })\n                    ),\n                  ]),\n                  m('.Form-group .flex-container', [\n                    m(\n                      'div',\n                      {\n                        className: 'inline--label',\n                      },\n                      m('.helpText', app.translator.trans(localePrefix + 'ignoredClasses'))\n                    ),\n                    m(\n                      'div',\n                      {\n                        className: 'inline--input',\n                      },\n                      m('input[type=text].FormControl', {\n                        bidi: this.setting(settingsPrefix + 'ignoredClasses', 'mathren-ignore'),\n                        placeholder: 'mathren-ignore',\n                      })\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m(\n                      'div',\n                      {\n                        className: 'helpText',\n                      },\n                      m('i', {\n                        className: 'fas fa-info-circle',\n                      }),\n                      m('span', app.translator.trans(localePrefix + 'ignoredClassesInfo'))\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m('label', app.translator.trans(localePrefix + 'outputMode')),\n                    m('.helpText', app.translator.trans(localePrefix + 'outputModeHelp')),\n                    m(\n                      'div',\n                      Select.component({\n                        options: this.outputModeOptions,\n                        onchange: this.setting(settingsPrefix + 'outputMode'),\n                        value: this.setting(settingsPrefix + 'outputMode')() || 'htmlAndMathml',\n                      })\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m(\n                      'label',\n                      Switch.component(\n                        {\n                          state: this.setting(settingsPrefix + 'enableFleqn', '0')() === '1',\n                          onchange: (value) => {\n                            this.setting(settingsPrefix + 'enableFleqn')(value ? '1' : '0');\n                          },\n                        },\n                        app.translator.trans(localePrefix + 'enableFleqn')\n                      )\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m(\n                      'label',\n                      Switch.component(\n                        {\n                          state: this.setting(settingsPrefix + 'enableLeqno', '0')() === '1',\n                          onchange: (value) => {\n                            this.setting(settingsPrefix + 'enableLeqno')(value ? '1' : '0');\n                          },\n                        },\n                        app.translator.trans(localePrefix + 'enableLeqno')\n                      )\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m(\n                      'label',\n                      Switch.component(\n                        {\n                          state: this.setting(settingsPrefix + 'enableColorIsTextColor', '0')() === '1',\n                          onchange: (value) => {\n                            this.setting(settingsPrefix + 'enableColorIsTextColor')(value ? '1' : '0');\n                          },\n                        },\n                        app.translator.trans(localePrefix + 'enableColorIsTextColor')\n                      )\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m(\n                      'label',\n                      Switch.component(\n                        {\n                          state: this.setting(settingsPrefix + 'enableThrowOnError', '0')() === '1',\n                          onchange: (value) => {\n                            this.setting(settingsPrefix + 'enableThrowOnError')(value ? '1' : '0');\n                          },\n                        },\n                        app.translator.trans(localePrefix + 'enableThrowOnError')\n                      )\n                    ),\n                  ]),\n                  m('.Form-group .flex-container', [\n                    m(\n                      'div',\n                      {\n                        className: 'inline--input-color-label',\n                      },\n                      m('label', app.translator.trans(localePrefix + 'errorColor')),\n                      m('.helpText', app.translator.trans(localePrefix + 'errorColorHelp'))\n                    ),\n                    m(\n                      'div',\n                      {\n                        className: 'inline--input-color',\n                      },\n                      m('input[type=color].FormControl', {\n                        bidi: this.setting(settingsPrefix + 'errorColor', '#cc0000'),\n                        disabled: this.setting(settingsPrefix + 'enableThrowOnError')() === '1',\n                      })\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m('label', app.translator.trans(localePrefix + 'sizeSettings')),\n                    m('.helpText', app.translator.trans(localePrefix + 'sizeSettingsHelp')),\n                  ]),\n                  m('.Form-group .flex-container', [\n                    m(\n                      'div',\n                      {\n                        className: 'inline--label',\n                      },\n                      m('.helpText', app.translator.trans(localePrefix + 'minRuleThickness'))\n                    ),\n                    m(\n                      'div',\n                      {\n                        className: 'inline--input',\n                      },\n                      m('input[type=text].FormControl', {\n                        bidi: this.setting(settingsPrefix + 'minRuleThickness', '0.05'),\n                        placeholder: '0.05',\n                      })\n                    ),\n                  ]),\n                  m('.Form-group .flex-container', [\n                    m(\n                      'div',\n                      {\n                        className: 'inline--label',\n                      },\n                      m('.helpText', app.translator.trans(localePrefix + 'maxSize'))\n                    ),\n                    m(\n                      'div',\n                      {\n                        className: 'inline--input',\n                      },\n                      m('input[type=text].FormControl', {\n                        bidi: this.setting(settingsPrefix + 'maxSize', '10'),\n                        placeholder: '10',\n                      })\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m('label', app.translator.trans(localePrefix + 'macros')),\n                    m('.helpText', app.translator.trans(localePrefix + 'macrosHelp')),\n                    m('textarea.FormControl', {\n                      bidi: this.setting(settingsPrefix + 'macros', ''),\n                      placeholder: '\"\\\\\\\\RR\": \"\\\\\\\\mathbb{R}\"\\n\"\\\\\\\\NN\": \"\\\\\\\\mathbb{N}\"',\n                    }),\n                  ]),\n                  m('.Form-group', [\n                    m(\n                      'div',\n                      {\n                        className: 'helpText',\n                      },\n                      m('i', {\n                        className: 'fas fa-exclamation-circle',\n                      }),\n                      m('span', app.translator.trans(localePrefix + 'syntaxInfo'))\n                    ),\n                  ]),\n                  m('.Form-group .flex-container', [\n                    m(\n                      'div',\n                      {\n                        className: 'inline--label',\n                      },\n                      m('.helpText', app.translator.trans(localePrefix + 'maxExpand'))\n                    ),\n                    m(\n                      'div',\n                      {\n                        className: 'inline--input',\n                      },\n                      m('input[type=text].FormControl', {\n                        bidi: this.setting(settingsPrefix + 'maxExpand', '1000'),\n                        placeholder: '1000',\n                      })\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    Alert.component(\n                      {\n                        type: 'success',\n                        dismissible: false,\n                      },\n                      app.translator.trans(localePrefix + 'katexOptionsInfo', {\n                        a: <a href=\"https://katex.org/docs/options.html\" target=\"_blank\" />,\n                      })\n                    ),\n                  ]),\n                  m('h3', app.translator.trans(localePrefix + 'otherOptionsHeading')),\n                  m('hr'),\n                  m('.Form-group', [\n                    m(\n                      'label',\n                      Switch.component(\n                        {\n                          state: this.setting(settingsPrefix + 'enableTextEditorButtons', '1')() === '1',\n                          onchange: (value) => {\n                            this.setting(settingsPrefix + 'enableTextEditorButtons')(value ? '1' : '0');\n                          },\n                        },\n                        app.translator.trans(localePrefix + 'enableTextEditorButtons')\n                      )\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m(\n                      'label',\n                      Switch.component(\n                        {\n                          state: this.setting(settingsPrefix + 'enableCopyTeX', '1')() === '1',\n                          onchange: (value) => {\n                            this.setting(settingsPrefix + 'enableCopyTeX')(value ? '1' : '0');\n                          },\n                        },\n                        app.translator.trans(localePrefix + 'enableCopyTeX')\n                      )\n                    ),\n                  ]),\n                  m('.Form-group', [\n                    m(\n                      'div',\n                      {\n                        className: 'helpText',\n                      },\n                      m('i', {\n                        className: 'fas fa-info-circle',\n                      }),\n                      m('span', app.translator.trans(localePrefix + 'mentions'))\n                    ),\n                  ]),\n                  Button.component(\n                    {\n                      type: 'submit',\n                      className: 'Button Button--primary',\n                      loading: this.loading,\n                      disabled: !this.changed(),\n                    },\n                    app.translator.trans('core.admin.settings.submit_button')\n                  ),\n                ]\n              ),\n            ]\n          ),\n        ]\n      ),\n    ];\n  }\n\n  setting(key, fallback = '') {\n    this.settings[key] = this.settings[key] || Stream(app.data.settings[key] || fallback);\n\n    return this.settings[key];\n  }\n\n  dirty() {\n    const dirty = {};\n\n    Object.keys(this.settings).forEach((key) => {\n      const value = this.settings[key]();\n\n      if (value !== app.data.settings[key]) {\n        dirty[key] = value;\n      }\n    });\n\n    return dirty;\n  }\n\n  /**\n   * Check if settings differ from their stored values.\n   *\n   * @returns {boolean}\n   */\n  changed() {\n    return Object.keys(this.dirty()).length;\n  }\n\n  /**\n   * Handle form's submit event.\n   *\n   * @param {Event} e\n   */\n  onsubmit(e) {\n    e.preventDefault();\n\n    if (this.loading) return;\n\n    this.loading = true;\n    app.alerts.dismiss(this.alertMessage);\n\n    // validate settings\n    if (!this.validate.bind(this, this.validaton_rules)()) {\n      this.loading = false;\n      m.redraw();\n    } else {\n      saveSettings(this.dirty())\n        .then(() => {\n          this.alertMessage = app.alerts.show(Alert, { type: 'success' }, app.translator.trans('core.admin.settings.saved_message'));\n        })\n        .catch(() => {})\n        .then(() => {\n          // return to the initial state and redraw the page\n          this.loading = false;\n          m.redraw();\n        });\n    }\n  }\n\n  /**\n   * Validate fields.\n   *\n   * @returns {boolean}\n   */\n  validate(rules) {\n    let valid = true;\n\n    Object.keys(rules).every((field) => {\n      const value = this.setting(settingsPrefix + field)();\n\n      if (value && !rules[field].test(value)) {\n        valid = false;\n        this.alertMessage = app.alerts.show(\n          Alert,\n          { type: 'error' },\n          app.translator.trans(localePrefix + 'validation', {\n            field_key: app.translator.trans(localePrefix + field),\n          })\n        );\n      }\n\n      return valid;\n    });\n\n    return valid;\n  }\n}\n","import app from 'flarum/common/app';\nimport MathRenSettingsPage from './components/MathRenSettingsPage';\n\n// initialize settings modal\napp.initializers.add('the-turk-mathren', (app) => {\n  // Add the admin pane\n  app.extensionData.for('the-turk-mathren').registerPage(MathRenSettingsPage);\n});\n","module.exports = flarum.core.compat['admin/components/ExtensionPage'];","module.exports = flarum.core.compat['common/app'];","module.exports = flarum.core.compat['common/components/Alert'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Select'];","module.exports = flarum.core.compat['common/components/Switch'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['common/utils/saveSettings'];"],"sourceRoot":""}